#include <stdio.h>
#include "../header/simd/fff4_simd.h"

void fft_r4_test()
{
    int size = 256;
    double arr[] = { 92, 95, 91, 40, 84, 66, 61, 58, 52, 19, 38, 99, 9, 47, 20, 10, 5, 19, 52, 63, 91, 30, 82, 70, 52, 25, 12, 20, 0, 25, 70, 8, 35, 18, 86, 28, 57, 3, 31, 10, 3, 22, 34, 69, 13, 36, 77, 3, 41, 87, 11, 95, 69, 34, 53, 27, 33, 81, 32, 82, 2, 11, 78, 99, 64, 0, 72, 100, 36, 42, 67, 51, 99, 83, 9, 40, 52, 22, 18, 43, 46, 18, 34, 76, 22, 3, 50, 41, 87, 74, 27, 30, 89, 74, 49, 70, 38, 35, 67, 32, 82, 50, 96, 40, 1, 9, 57, 28, 90, 3, 88, 33, 80, 30, 37, 77, 49, 72, 22, 82, 77, 25, 24, 37, 10, 19, 18, 5, 98, 84, 44, 7, 6, 19, 63, 7, 38, 98, 48, 10, 62, 49, 51, 7, 61, 41, 11, 27, 49, 47, 17, 15, 74, 42, 97, 29, 75, 72, 65, 13, 31, 80, 56, 21, 23, 59, 82, 71, 65, 59, 34, 8, 61, 90, 89, 43, 66, 61, 41, 70, 74, 27, 0, 9, 5, 29, 77, 89, 34, 63, 41, 34, 25, 24, 83, 35, 34, 49, 49, 68, 88, 75, 4, 68, 1, 91, 48, 80, 96, 5, 51, 16, 4, 49, 36, 89, 96, 74, 71, 79, 91, 0, 29, 84, 76, 41, 35, 13, 28, 16, 47, 33, 13, 8, 97, 72, 36, 19, 24, 42, 5, 3, 37, 54, 23, 99, 24, 31, 86, 33, 70, 96, 55, 75, 39, 97 };
    // double arr[] = { 1, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4 };
    complex* w = precompute_twiddle_factor_radix_4(size, 0);
    complex* s = fftr_r4(arr, w, size, size);

    for (int i = 0; i < size; i++)
    {
        printf("%f %f\n", s->real[i], s->imag[i]);
    }

    complex_arr_allign_16_destroy(w);
    complex_arr_allign_16_destroy(s);
}

int main()
{   
    fft_r4_test();
    return 0;
}